<form class="p-4" [formGroup]="categoryForm" (ngSubmit)="onSubmitForm()">
  <app-emoji-picker formControlName="icon"></app-emoji-picker>

  <app-input
    id="name"
    [label]="'categories.form-name' | translate"
    [placeholder]="'categories.name-placeholder' | translate"
    formControlName="name"
  />

  <app-select
    id="type"
    [label]="'categories.form-type' | translate"
    [placeholder]="'categories.type-placeholder' | translate"
    [options]="categoryTypeOptions"
    formControlName="type"
  ></app-select>

  <div
    class="w-fit ml-auto"
    [pTooltip]="
      categoryForm.invalid
        ? ('errors.fill-up' | translate)
        : isEditMode() && !isDirty()
          ? ('errors.no-changes' | translate)
          : ''
    "
  >
    <p-button
      type="submit"
      [loading]="isLoading()"
      [unstyled]="true"
      [disabled]="categoryForm.invalid || (isEditMode() && !isDirty())"
      styleClass="disabled:cursor-not-allowed disabled:grayscale-75 disabled:hover:bg-green-600/30 disabled:transition-none bg-green-600/30 hover:bg-green-600/40 text-green-600 font-medium py-2 px-4 rounded-md transition duration-300 flex items-center justify-center gap-2"
    >
      <span>{{
        isEditMode() ? ('categories.update' | translate) : ('categories.add' | translate)
      }}</span>
    </p-button>
  </div>
</form>
