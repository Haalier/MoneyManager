<div class="relative inline-block text-left">
  <button
    type="button"
    (click)="op.toggle($event)"
    class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-all shadow-sm"
  >
    <span class="uppercase">{{ currentLang() }}</span>
    <span
      class="fi rounded-sm shadow-sm"
      [class.fi-us]="currentLang() === 'en'"
      [class.fi-pl]="currentLang() === 'pl'"
    >
    </span>
  </button>

  <p-popover #op>
    <div class="py-1 px-2">
      @for (lang of languages; track lang.code) {
        <button
          type="button"
          (click)="selectLanguage(lang.code); op.hide()"
          [class.bg-blue-50]="currentLang() === lang.code"
          [class.text-blue-600]="currentLang() === lang.code"
          class="flex items-center justify-between gap-1.5 w-full px-3 py-2 text-sm rounded-lg hover:bg-slate-50 transition-colors"
        >
          <span class="font-medium">{{ lang.label }}</span>
          <span
            class="fi rounded-sm shadow-sm"
            [class.fi-us]="lang.code === 'en'"
            [class.fi-pl]="lang.code === 'pl'"
          >
          </span>
        </button>
      }
    </div>
  </p-popover>
</div>
